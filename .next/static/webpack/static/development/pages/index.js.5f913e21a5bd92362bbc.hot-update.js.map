{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.5f913e21a5bd92362bbc.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {startClock, serverRenderClock,getGoldList,changGoldList,changGitList,Axios} from '../store'\r\nimport Examples from '../components/examples'\r\nimport LayoutA from '../index.js'\r\nimport { Layout, Menu, Breadcrumb, Icon } from 'antd';\r\nimport './index.css'\r\nconst { Header, Content, Footer } = Layout;\r\nlet getlist = (url,param) => {\r\n  return new Promise((resolve, reject) => {\r\n    Axios.post(url,param)\r\n    .then(res=>{\r\n         const {data} = res.data\r\n         resolve(data)\r\n    })  \r\n  })\r\n}\r\n\r\nclass Index extends React.Component {\r\n    static getInitialProps ({ reduxStore, req }) {\r\n    const isServer = !!req\r\n    reduxStore.dispatch(serverRenderClock(isServer))\r\n \r\n    let  p1=getlist('https://extension-ms.juejin.im/resources/gold',{\r\n      category: \"frontend\",\r\n      limit: 30,\r\n      offset: 0,\r\n      order: \"time\"\r\n    })\r\n    let  p2=getlist('https://extension-ms.juejin.im/resources/github',{\r\n      \"category\":\"upcome\",\r\n      \"period\":\"day\",\r\n      \"lang\":\"javascript\",\r\n      \"offset\":0,\r\n      \"limit\":30\r\n    })\r\n    return Promise.all([p1, p2]).then((result) => {\r\n                    //['成功了', 'success']\r\n                    reduxStore.dispatch(changGoldList(result[0]))\r\n                    reduxStore.dispatch(changGitList(result[1]))\r\n                    return  {\r\n                       GOLD_LIST: (reduxStore.getState())['GOLD_LIST'],\r\n                       GIT_LIST: (reduxStore.getState())['GIT_LIST']\r\n                      }\r\n    }).catch((error) => {\r\n      console.log(error)\r\n    })\r\n    return Axios.post('https://extension-ms.juejin.im/resources/gold',{\r\n      category: \"frontend\",\r\n      limit: 30,\r\n      offset: 0,\r\n      order: \"time\"\r\n    })\r\n    .then(res=>{\r\n         const {data} = res.data\r\n         reduxStore.dispatch(changGoldList(data))\r\n        \r\n         return  { GOLD_LIST: (reduxStore.getState())['GOLD_LIST']}\r\n    })  \r\n  }\r\n\r\n  componentDidMount () {\r\n    const {dispatch,GOLD_LIST,GIT_LIST} = this.props\r\n    \r\n   // this.timer = startClock(dispatch)\r\n    // dispatch(getGoldList({\r\n    //   category: \"frontend\",\r\n    //   limit: 30,\r\n    //   offset: 0,\r\n    //   order: \"time\"\r\n    // }))\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    //clearInterval(this.timer)\r\n  }\r\n\r\n  render () {\r\n   const {GOLD_LIST,state,GIT_LIST} = this.props;\r\n   console.log(state)\r\n    return (\r\n \r\n          <Layout id=\"components-layout-demo-fixed\">\r\n           \r\n          <Header style={{ position: 'fixed', zIndex: 1, width: '100%' }}>\r\n                <div className=\"logo\" />\r\n                <Menu\r\n                    theme=\"dark\"\r\n                    mode=\"horizontal\"\r\n                    defaultSelectedKeys={['2']}\r\n                    style={{ lineHeight: '64px' }}\r\n                >\r\n                    <Menu.Item key=\"1\">nav 1</Menu.Item>\r\n                    <Menu.Item key=\"2\">nav 2</Menu.Item>\r\n                    <Menu.Item key=\"3\">nav 3</Menu.Item>\r\n                </Menu>\r\n            </Header> \r\n            <div  className=\"main-area\">\r\n              <div className=\"source gold-source\">\r\n                  <div className=\"source-navbar\"> \r\n                     <div className=\"title\">\r\n                        掘金\r\n                     </div>\r\n                     <div className=\"order-selector\" >\r\n                        <div className=\"hottest active\">热门</div>\r\n                        <div className=\"latest\">最新</div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"entry-list\">\r\n                    <ul className=\"list\">\r\n                        {GOLD_LIST.map(item=>{\r\n                           return <li key={item.id} className=\"item\">\r\n                               <a href={item.url} target=\"_blank\" className=\"item-content\">\r\n                                  <div className=\"badge\"   title={'至少已有'+item.collectionCount+'人喜欢'}>\r\n                                    <div className=\"icon ion-arrow-up-b\" ></div>\r\n                                    <div className=\"text\">{item.collectionCount}</div>\r\n                                  </div>\r\n                                  <div className=\"entry-info\">\r\n                                    <div className=\"title\"  title={item.title}>{item.title}</div>\r\n                                    <div className=\"meta\"  >\r\n                                          <div className=\"list\"  >\r\n                                              <div className=\"meta-item\">\r\n                                                <span className=\"text\" title=\"Fri, 03 Jan 2020 14:02:46 GMT\">2小时前</span>\r\n                                              </div>\r\n                                              <div className=\"meta-item\">\r\n                        <span className=\"text\" title={'访问'+item.user.username+'的主页'}>{item.user.username}</span>\r\n                                              </div>\r\n                                          </div>\r\n                                      </div>\r\n                                  </div>\r\n                                </a>\r\n                           </li>\r\n                        })}\r\n                    </ul>\r\n                  </div>\r\n              </div>\r\n              <div className=\"source other-source\">\r\n                  <div className=\"entry-list\">\r\n                      <ul className=\"list\">\r\n                           {GIT_LIST.map(item=>{\r\n                           return <li key={item.id} className=\"item-row\">\r\n                                 <div className=\"item-box\">\r\n                                   <div className=\"item\">\r\n                                     <div className=\"repo-content\">\r\n                                          <div className=\"repo-header\">\r\n                                                <h2 className=\"title\">\r\n                                                  <a className=\"title-text\" href={item.url} target=\"_blank\">\r\n                                                    <span className=\"author\">{item.username}</span><span className=\"divider\"> / </span>\r\n                                                    <span className=\"name\">{item.reponame}</span>\r\n                                                  </a>\r\n                                                </h2>\r\n                                            </div>\r\n                                             <div className=\"repo-desc\">\r\n                                                <div className=\"desc\" title={item.description}>\r\n                                                  {item.description}\r\n                                                </div>\r\n                                             </div>\r\n                                              <div className=\"repo-meta\">\r\n                                                 <span className=\"star\">\r\n                                                    <i className=\"icon ion-android-star\"></i>\r\n                                                    {item.starCount}\r\n                                                  </span>\r\n                                                  <span className=\"fork\">\r\n                                                    <i className=\"icon ion-fork-repo\"></i>\r\n                                                    {item.forkCount}\r\n                                                  </span>\r\n                                                  <span className=\"lang\">\r\n                                                      <i className=\"icon lang-color\" style={{backgroundColor:'rgb(241, 224, 90)'}}></i>\r\n                                                      <span>{item.lang}</span>\r\n                                                  </span>\r\n                                              </div>\r\n                                       </div>\r\n                                      </div>\r\n                                 </div>\r\n                           </li>\r\n                        })}\r\n                      </ul>\r\n                  </div>\r\n              </div>\r\n            </div>\r\n    \r\n            <Footer style={{ textAlign: 'center' }}>Ant Design ©2018 Created by Ant UED</Footer>                                                                \r\n          </Layout>\r\n      \r\n    )\r\n  }\r\n}\r\n\r\nexport default connect( \r\n  state => ({ GOLD_LIST: state.GOLD_LIST,state,GIT_LIST: state.GIT_LIST })\r\n \r\n)(Index)"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AA2CA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAEA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAJA;AAMA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAOA;AAIA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAIA;AAAA;AACA;AAAA;AAAA;AAIA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AACA;AAAA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAQA;AAMA;AAAA;AAAA;AAAA;AAIA;;;AAtKA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AAEA;AAEA;AAAA;AAAA;AACA;AACA;;;;AAzCA;AACA;AAyKA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;A","sourceRoot":""}